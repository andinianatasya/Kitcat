<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">

    <link rel="icon" href="img/logo(1).png" type="image/png">

    <title>Ruang Makan</title>
</head>

<body class="overflow-hidden">
    <div class="h-screen bg-bgDapur bg-cover bg-center">
        <div class="absolute inset-0 flex justify-center items-center pointer-events-none">
            <img id="catImage" src="img/default_bayi.png" alt="Kucing" class="h-80 ml-12 mt-20">
            <audio id="meong" src="img/meow.mp3"></audio>
        </div>

        <nav class="bg-oren p-2">
            <ul class="flex justify-around items-center">
                <li class="text-center hover:opacity-50 duration-300">
                    <a href="profil.php?ruangan=beranda.html" class="flex items-center">
                        <img src="img/profil.svg" alt="Profil Icon" class="flex flex-col items-center w-10 h-10 mb-1">
                        <span class="hidden md:block text-white font-sans pl-4 pb-2 font-bold">Profil</span>
                    </a>
                    
                </li>

                <li class="text-center hover:opacity-50 duration-300">
                    <a href="#shop" class="flex items-center flex">
                        <img id="shopImage" src="img/belanja.svg" alt="Shop Icon" class="w-10 h-10 mb-1">
                        <span class="hidden md:block text-white font-sans pl-4 pb-2 font-bold">Toko</span>
                    </a>
                    
                </li>

                <li class="text-center">
                    <button id="dropdownButton" class="flex items-center hover:opacity-50 duration-300">
                        <img src="img/lokasi.svg" alt="ruangan" class="w-10 h-10 mb-1">
                        <span class="hidden md:block text-white font-sans pl-4 pb-2 font-bold">Ruangan</span>
                    </button>
                
                    <div>
                        <ul id="lokasidropdown" class="bg-oren rounded-md mt-4 absolute rounded-me md:w-40 w-20 p-2 0focus:outline-orenTua hidden">
                            <li>
                                <button class="hover:opacity-50 duration-300">
                                    <a href="beranda.html" class="flex items-center" class="">
                                        <img src="img/beranda.svg" alt="Ruang Makan" class="w-16 mb-1">
                                        <span class="hidden md:block text-white font-sans pl-4 pb-2 font-bold">Ruang Tamu</span>
                                    </a>
                                </button>
                            </li>
                            <li>
                                <button class="hover:opacity-50 duration-300">
                                    <a href="ruangmkn.html" class="flex items-center">
                                        <img src="img/makan.svg" alt="Ruang Makan" class="w-16 mb-1">
                                        <span class="hidden md:block text-white font-sans pl-4 pb-2 font-bold">Ruang Makan</span>
                                    </a>
                                </button>
                            </li>
                            <li>
                                <button class="hover:opacity-50 duration-300">
                                    <a href="ruangtdr.html" class="flex items-center">
                                        <img class="w-16 mb-1" src="img/tidur.svg" alt="Ruang Tidur">
                                        <span class="hidden md:block text-white font-sans pl-4 pb-2 font-bold">Ruang Tidur</span>
                                    </a>
                                </button>                 
                            </li>
                            <li>
                                <button class="hover:opacity-50 duration-300">
                                    <a href="ruangmain.html" class="flex items-center">
                                        <img class="w-16 mb-1" src="img/main.svg" alt="Ruang Main">
                                        <span class="hidden md:block text-white font-sans pl-4 pb-2 font-bold">Ruang Main</span>
                                    </a>
                                </button>                                
                            </li>
                            <li>
                                <button class="hover:opacity-50 duration-300">
                                    <a href="ruangmandi.html" class="flex items-center">
                                        <img class="w-16 mb-1" src="img/mandi.svg" alt="">
                                        <span class="hidden md:block text-white font-sans pl-4 pb-2 font-bold">Ruang Mandi</span>
                                    </a>
                                </button>                               
                            </li>
                        </ul>
                    </div>
                </li>

                <li class="text-center hover:opacity-50 duration-300">
                    <a href="#" class="flex items-center">
                        <img id="bukaChat" src="img/chat.svg" alt="Chat Icon" class="w-10 mb-1">
                        <span class="hidden md:block text-white font-sans pl-4 pb-2 font-bold">Obrolan Global</span>
                    </a>
                    
                </li>
            </ul>
        </nav>
    </div>

    <div class="fixed bottom-0 left-0 right-0 flex justify-around py-4">
        <div class="flex space-x-5">
            <button class="w-16 h-16 shadow-cartoon rounded-full">
                <img id="makanButton1" class="rounded-full active:border-2 active:border-white active:translate-y-[5px] active:duration-300" src="img/ikan.svg" alt="makanan">
            </button>

            <button class="w-16 h-16 shadow-cartoon rounded-full">
                <img id="makanButton2" class="rounded-full active:border-2 active:border-white active:translate-y-[5px] active:duration-300" src="img/minum.svg" alt="minuman">
            </button>

            <button class="w-16 h-16 shadow-cartoon rounded-full">
                <img id="makanButton3" class="rounded-full active:border-2 active:border-white active:translate-y-[5px] active:duration-300" src="img/sayur.svg" alt="makanan">
            </button>   
        </div>
    </div>


    <script src="js/index.js"></script>
    <script src="js/chatglobal.js"></script>

    <script>
    //////////Meong kucing
        const suaraMeong = document.getElementById("meong");
        const gambar = document.getElementById("catImage");

        // Menambahkan event listener untuk memutar suara ketika gambar diklik
        gambar.addEventListener('click', function() {
            console.log('Gambar diklik');

            if (suaraMeong) {
                console.log('Audio ditemukan, mencoba memutar...');

                suaraMeong.play()
                    .then(() => {
                        console.log('Memutar audio berhasil');
                    })
                    .catch(error => {
                        console.error('Gagal memutar audio:', error);
                    });
            } else {
                console.error('Elemen audio tidak ditemukan');
            }
        });
    

        document.getElementById('makanButton1').addEventListener('click', function() {
        updateLapar(10);
        });

        document.getElementById('makanButton2').addEventListener('click', function() {
            updateLapar(5);
        });

        document.getElementById('makanButton3').addEventListener('click', function() {
            updateLapar(10);
        });

        function updateLapar(amount) {
            let currentLapar = localStorage.getItem('lapar') || 100; 
            currentLapar = parseInt(currentLapar);
        
            if (currentLapar < 100) {
                currentLapar += amount;
                if (currentLapar > 100) {
                    currentLapar = 100; 
                    alert("Bar lapar sudah penuh!");
                }
                localStorage.setItem('lapar', currentLapar);
            } 
        
            updateBarsDisplay(currentLapar, localStorage.getItem('sehat') || 100, localStorage.getItem('energi') || 100, localStorage.getItem('senang') || 100);
        }

    </script>

</body>
</html>