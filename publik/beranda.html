<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <link rel="stylesheet" href="css/style.css">
    <title>poat</title>
</head>

<body class="overflow-hidden">
    <div class="h-screen bg-bgBeranda bg-cover bg-center">
        <nav class="bg-merah p-2">
            <ul class="flex justify-around items-center">

                <li class="text-center hover:opacity-50">
                    <a href="profil.php?ruangan=beranda.html" class="flex flex-col items-center">
                        <img src="img/profil.svg" alt="Profil Icon" class="flex flex-col items-center w-8 h-8 mb-1">
                    </a>
                </li>

                <li class="text-center">
                    <a href="#shop" class="flex flex-col items-center hover:opacity-50">
                        <img id="shopImage" src="img/belanja.svg" alt="Shop Icon" class="w-8 h-8 mb-1">
                    </a>
                </li>

                <li class="text-center">
                    <button id="dropdownButton" class="flex flex-col items-center focus:outline-none hover:opacity-50">
                        <img src="img/lokasi.svg" alt="Game Icon" class="w-8 h-8 mb-1">
                    </button>

                    <ul id="lokasidropdown" class="absolute p-2 mt-2 rounded-me w-24">
                        <li class="py-1">
                            <a href="ruangmkn.html" class="flex items-center px-4">
                                <img class="rounded-full hover:shadow-lg hover:shadow-orange-950 transition-shadow duration-300" src="img/makan.svg" alt="">
                            </a>
                        </li>
                        <li class="py-1">
                            <a href="ruangtdr.html" class="flex items-center px-4">
                                <img class="rounded-full hover:shadow-lg hover:shadow-orange-950 transition-shadow duration-300" src="img/tidur.svg" alt="">
                            </a>
                        </li>
                        <li class="py-1">
                            <a href="ruangmain.html" class="flex items-center px-4">
                                <img class="rounded-full hover:shadow-lg hover:shadow-orange-950 transition-shadow duration-300" src="img/main.svg" alt="gambargame">
                            </a>
                        </li>
                        <li class="py-1">
                            <a href="ruangmandi.html" class="flex items-center px-4">
                                <img class="rounded-full hover:shadow-lg hover:shadow-orange-950 transition-shadow duration-300" src="img/mandi.svg" alt="">
                            </a>
                        </li>
                    </ul>
                </li>

                <li class="text-center">
                    <a href="#" class="flex flex-col items-center hover:opacity-50">
                        <img id="bukaChat" src="img/chat.svg" alt="Chat Icon" class="w-8 h-8 mb-1">
                    </a>
                </li>
            </ul>
        </nav>
    </div>

    <div class="absolute inset-0 flex justify-center items-center pointer-events-none">
        <img id="catImage" src="img/default_bayi.png" alt="Kucing" class="h-56 mt-56">
    </div>

    <div class="fixed bottom-0 left-0 right-0 py-4 px-8">
        <div class="flex justify-center space-x-8 md:space-x-72">
            <div class="space-y-4">
                <div class="flex items-center space-x-2">
                    <div class="w-12 h-12 rounded-full hover:shadow-lg hover:shadow-orange-200 transition-shadow duration-300">
                        <img src="img/senang.svg" alt="Kesenangan" class="rounded-full">
                    </div>
                    <div class="w-24 h-4 bg-gray-300 rounded">
                        <div id="status_bar_senang" class="h-full bg-green-600 rounded outline outline-green-800"></div>
                    </div>
                </div>
    
                <!-- Bar dan gambar Lapar -->
                <div class="flex items-center space-x-2">
                    <div class="w-12 h-12 rounded-full hover:shadow-lg hover:shadow-orange-200 transition-shadow duration-300">
                        <img src="img/lapar.svg" alt="Kelaparan" class="rounded-full">
                    </div>
                    <div class="w-24 h-4 outline outline-green-800 bg-gray-300 rounded">
                        <div id="status_bar_lapar" class="h-full bg-green-600 rounded"></div>
                    </div>
                </div>
            </div>
        
            <div class="space-y-4">
                <div class="flex items-center space-x-2">
                    <div class="w-24 h-4 bg-gray-300 rounded">
                        <div id="status_bar_sehat" class="h-full bg-green-500 rounded outline outline-green-800"></div>
                    </div>
                    <div class="w-12 h-12 rounded-full hover:shadow-lg hover:shadow-orange-200 transition-shadow duration-300">
                        <img src="img/sehat.svg" alt="Kesehatan" class="rounded-full">
                    </div>
                </div>
            
                <div class="flex items-center space-x-2">
                    <div class="w-24 h-4 bg-gray-300 rounded">
                        <div id="status_bar_energi" class="h-full bg-green-500 rounded outline outline-green-800"></div>
                    </div>
                    <div class="w-12 h-12 rounded-full hover:shadow-lg hover:shadow-orange-200 transition-shadow duration-300">
                        <img src="img/energi.svg" alt="Energi" class="rounded-full">
                    </div>
                </div>
            </div>
        </div>
    </div>
    

    <div id="belanja" class="fixed inset-0 bg-black bg-opacity-30 backdrop-blur-sm hidden">
        <div class="flex items-center justify-center h-full">
            <div class="bg-gradient-to-bl from-merah to-cream p-5 rounded-lg max-w-xl w-full text-center m-5 md:m-0">
                <div class="flex items-center gap-2">
                    <img src="img/koin.svg" alt="Coin" class="h-8">
                    <span id="jumlahKoin" class="text-white text-xs font-semibold">1000</span>
                </div>
                
                <div class="grid grid-cols-2 gap-4">
                    <div class="flex flex-col items-center">
                        <img src="img/baju.svg
                        " alt="Baju 1" class="w-24 h-24 mx-auto mb-2">
                        <button class="px-2 py-1 bg-orenTua text-white rounded hover:bg-orange-600 beliBtn text-xs font-semibold" hargaItem="25">Beli 25 Koin</button>
                    </div>
                    <div class="flex flex-col items-center">
                        <img src="img/baju.svg" alt="Baju 2" class="w-24 h-24 mx-auto mb-2">
                        <button class="px-2 py-1 bg-orenTua text-white rounded hover:bg-orange-600 beliBtn text-xs font-semibold" hargaItem="30">Beli 30 Koin</button>
                    </div>
                    <div class="flex flex-col items-center">
                        <img src="img/baju.svg" alt="Baju 3" class="w-24 h-24 mx-auto mb-2">
                        <button class="px-2 py-1 bg-orenTua text-white rounded hover:bg-orange-600 beliBtn text-xs font-semibold" hargaItem="25">Beli 25 Koin</button>
                    </div>
                    <div class="flex flex-col items-center">
                        <img src="img/baju.svg" alt="Baju 4" class="w-24 h-24 mx-auto mb-2">
                        <button class="px-2 py-1 bg-orenTua text-white rounded hover:bg-orange-600 beliBtn text-xs font-semibold" hargaItem="40">Beli 40 Koin</button>
                    </div>
                </div>
                
                <button id="tutupBelanja" class="mt-4 px-4 py-2 bg-merah text-white rounded hover:bg-red-900 text-xs font-semibold">Tutup</button>
            </div>
        </div>
    </div>

    <script src="index.js"></script>

    <script>
        document.getElementById("bukaChat").addEventListener("click", () => {
    sessionStorage.setItem("previousPage", window.location.href);
    window.location.href = "globalChat.html"; // Mengarahkan ke halaman chat global
    });
    
        const shopImage = document.getElementById("shopImage");
        const shopOverlay = document.getElementById("shopOverlay");
        const closeShopBtn = document.getElementById("closeShopBtn");
        let jumlahKoin = 1000;

        shopImage.addEventListener("click", () => {
            belanja.classList.remove("hidden");
        });

        tutupBelanja.addEventListener("click", () => {
            belanja.classList.add("hidden");
        });

        function updateCoinDisplay() {
        document.getElementById("jumlahKoin").textContent = jumlahKoin;
    }

    document.querySelectorAll(".beliBtn").forEach(button => {
        button.addEventListener("click", function() {
            const harga = parseInt(this.getAttribute("hargaItem"));
            if (jumlahKoin >= harga) {
                jumlahKoin -= harga;
                alert("Anda telah membeli " + this.textContent + " dengan harga " + harga + " koin");
                updateCoinDisplay();
            } else {
                alert("Koin anda tidak cukup untuk membeli ini!");
            }
        });
    });
    updateCoinDisplay();
    </script>

</body>
</html>